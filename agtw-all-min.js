var agtw=agtw||{};(function(){document.write('<script async defer crossorigin="anonymous"  src="https://connect.facebook.net/en_US/sdk.js" onerror="alert(\'Fatal Error! fail to load facebook api sdk, possible of net failure\')">\x3c/script>')})();var agtwTester;$(function(){agtwTester=newAgtwTest()});
function newAgtwTest(){function A(a){try{"object"===typeof a&&(a=JSON.stringify(a,null,"\t"))}catch(c){console.error("convert json failed, ",c)}return a}function d(a){return!a||0>=a.length?!0:!1}function g(){setTimeout(function(){var a=String(window.location),c="",c=x(1E4*Math.random(),0),u=a.indexOf("_dev_ran_num_");-1===u?c=-1===a.indexOf("?")?a+"?_dev_ran_num_="+c:a+"&_dev_ran_num_="+c:(c=a.substring(0,u)+"_dev_ran_num_="+c,u=a.indexOf("&",u),-1!==u&&(c+=a.substring(u,a.length)));window.location.href=
c},0)}function e(){try{F.play()}catch(a){console.error(a)}}var l=agtw.log.getLogger("newAgtwTest"),n=agtw.util,x=n.ft,J=n.os,w=n.gci,m=n.he,O=$("#json_resp_text");$("#post_text");var C=$("#tool_box_div"),y=$("#rt-mask"),c=function(a){var c=0;return function(){try{for(var u=[],d=0;d<arguments.length;d++)u.push(A(arguments[d]));for(var g=w(1),r="--- \u3010 "+ ++c+" \u3011 ---------------- "+g,d=0;d<u.length;d++)0<d&&(r+="\r\n"),r+="\r\n",r+=u[d];r+="\r\n";r+=a.val();a.text(r)}catch(t){console.error("appendTextArea failed, ",
t)}}}(O),E=function(){function a(){var t={user:{},pages_test_post:{},open_blocks:{},app:{}};t.app.apps={};t.app.apps[""]={name:"\u8acb\u9078\u64c7"};t.app.apps["677207700926996"]={name:"\u514b\u91cc\u592b\u5c45\u54c8\u4f2f"};t.app.apps["317269784312344"]={name:"\u5f70\u5316\u8089\u5713344"};return t}function c(){var a=JSON.stringify(r);m&&(m.fb_api_dev_panel_12345_=a)}function d(){if(m)try{var a,f;(a=m.fb_api_dev_panel_12345_)&&(f=JSON.parse(a,e))&&$.extend(!0,r,f)}catch(c){l.error("loadCfg error, ",
c)}}function e(a,f){var c;return"string"===typeof f&&(c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(f))?new Date(Date.UTC(+c[1],+c[2]-1,+c[3],+c[4],+c[5],+c[6])):f}var m=localStorage,r=a();d();(function(){function a(f){console.warn("### onWindowUnload ###");c()}var f=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"beforeunload";try{$(window).on(f,a)}catch(r){console.warn("reg finalize failed.",r)}})();return{sv:c,ld:d,rst:function(){confirm("\u91cd\u7f6e\u6240\u6709\u8a2d\u5b9a\uff1f")&&
(r=a(),c(),g())},cfg:r}}(),a=function(){function a(){return $('<hr style="height:1px;border:none;border-top:0.4px dashed gray;">')}function c(a){var t;t="display:inline-block;padding:0px 3px 3px;";t+="background-color:"+(a||"transparent")+";";t+="vertical-align:middle;";t+="line-height:3em;";t+="font-size:0.9em;";a="<div "+('style="'+t+'" ');a+='class="kdv-ui-span" ';a+=">";a+="</div>";return $(a)}function d(a){var c=a.type,f=a.lab_text,q=a.cb,D=a.div,p=a.css;a=a.__stack_idx__||1;var k,v,e={color:"black",
"background-color":"#f0f0f0"},z={color:"white","background-color":"black"},I={color:"black","background-color":"gray"},h;try{h=w(a)}catch(L){console.error("getCallerInfo failed",L)}"button"===c?function(){var a;a="background-color:#f0f0f0;vertical-align:middle;";a+="height:2em;";a+="font-size:0.9em;";a+="border:1px solid gray;";a+="padding:5px;";a+="margin:1px 3px 1px;";a+="cursor:hand;";var b;b='<input type="button" ';b+='value="'+m(f)+'" ';b+='style="'+a+'" ';b+='title="'+m(h)+'" ';b+=">";k=$(b)}():
"text"===c?(e={color:"black","background-color":"white"},z={color:"black","background-color":"lavender"},function(){var a;a="background-color:white;vertical-align:middle;";a+="height:2em;";a+="font-size:0.9em;";a+="border:1px solid gray;";a+="cursor:hand;";var b;b='<input type="text" ';b+='value="'+m("")+'" ';b+='style="'+a+'" ';b+='title="'+m(h)+'" ';b+=">";k=$(b)}()):"textarea"===c&&(e={color:"black","background-color":"white"},z={color:"black","background-color":"lavender"},function(){var a;a=
"background-color:white;font-size:0.9em;";a+="resize:none;";var b;b="<textarea "+('value="'+m("")+'" ');b+='style="'+a+'" ';b+='title="'+m(h)+'" ';b+=">";b+="</textarea>";k=$(b)}());p&&k.css(p);p={};p.div=k;p.nor_css=e;p.hl_css=z;v=g(p);"button"===c&&(k.on("click",q),k.on("mouseenter",function(){k.css(z)}),k.on("mouseleave",function(){k.css(e)}),k.on("mousedown",function(){v.off();k.css(I)}),k.on("mouseup",function(){k.css(e)}));if("text"===c||"textarea"===c)k.on("mousedown",function(){v.off();k.css(e)});
D||(D=C);D.append(k);return{flashOn:v.on,flashOff:v.off,input:k}}function g(a){function c(){p?(k?(f.css(d),k=0):(f.css(e),k=1),setTimeout(c,500)):(v||f.css(d),k=0)}var f=a.div,d=a.nor_css||{color:f.css("color"),"background-color":f.css("background-color")},e=a.hl_css||{color:"white","background-color":"black"},p=0,k=0,v=0;f.on("mouseenter",function(){v=1});f.on("mouseleave",function(){v=0});return{on:function(){1!=p&&(p=1,c())},off:function(){p=0;c()}}}var e={};return{newSpan:c,newHr:a,newInput:d,
newButton:function(a,c,f){var q={type:"button"};q.lab_text=a;q.cb=c;q.div=f;q.__stack_idx__=q.__stack_idx__||2;return d(q)},newSelect:function(a,c,f){function d(a){for(var b=-1,c,f=z.find("option"),h=0;h<f.length;h++)c=$(f[h]),c.val()===a&&(b=h);return{idx:b,opt:c}}a=a||"";var e={color:"black","background-color":"#f0f0f0"},p={color:"white","background-color":"black"},k={color:"black","background-color":"gray"},v;try{v=w(1)}catch(u){console.error("getCallerInfo failed",u)}var z,I;(function(){var a;
a="background-color:#f0f0f0;vertical-align:middle;";a+="height:2em;";a+="font-size:0.9em;";a+="border:1px solid gray;";a+="cursor:hand;";var b;b='<select id="select_123" ';b+='style="'+a+'" ';b+='title="'+m(v)+'" ';b+=">";b+="</select>";z=$(b)})();a&&0<a.length&&function(){var c;c="display:inline-block;background-color:#f0f0f0;";c+="font-size:1em;";c+="vertical-align:middle;";c+="color:black;";c="&nbsp;<span "+('style="'+c+'" ');c+=">";c+=m(a);c+="</span>&nbsp;";I=$(c)}();var h={};h.div=z;h.nor_css=
e;h.hl_css=p;var L=g(h);z.change(function(){var a=this.value,b=d(a).idx,b=this.options[b].text;c&&c(a,b)});z.on("mouseenter",function(){z.css(p)});z.on("mouseleave",function(){z.css(e)});z.on("mousedown",function(){L.off();z.css(k)});z.on("mouseup",function(){z.css(e)});f||(f=C);f.append("&nbsp;");I&&f.append(I);f.append(z);f.append("&nbsp;");return{addOpt:function(a,b){var c;c="cursor:hand;";var f;f="<option "+('value="'+m(a)+'" ');f+='style="'+c+'" ';f+=">";f+=m(b);f+="</option>";c=$(f);z.append(c)},
clearOpt:function(){z.find("option").remove()},selectOpt:function(a){if(-1!==d(a).idx)for(var b=z.find("option"),c=0;c<b.length;c++){var f=$(b[c]);f.val()===a?f.attr("selected","selected"):f.removeAttr("selected")}},flashOn:L.on,flashOff:L.off,select:z}},newBlock:function(c){var d=c.id,f=c.text||"\u5c1a\u7121\u540d\u7a31_",q,g,p,k,v,u,z,I,h;(function(){var c="";try{c=w(2)}catch(r){console.error("getCallerInfo failed",r)}if(!d)throw Error("init block error, no id, "+c);if(e[d])throw Error("init block error, dup id, id: "+
d+", "+c);q=function(){var b;b="display:block;width:100%;";b+="padding:3px;";b="<div "+('style="'+b+'" ');b+=">";b+="</div>";return $(b)}();g=function(){var b;b="display:block;width:100%;";b+="padding:3px;";b+="background-color:#ff6600;";b+="box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.9);";b="<div "+('style="'+b+'" ');b+=">";b+="</div>";return $(b)}();q.append(g);p=a();q.append(p);k=function(){var b;b="display:block;height:auto;";b+="overflow:hidden;";b+="color:white;";b="<div "+('style="'+b+'" ');
b+=">";b+="</div>";return $(b)}();g.append(k);v=function(){var b;b="display:inline-block;color:white;";b="<span "+('style="'+b+'" ');b+=">";b+="</span>";return $(b)}();k.append(v);u=function(){var b;b="display:inline-block;padding:3px;";b+="color:white;";b+="text-shadow: 2px 2px 1px #8c1c00; ";b+="font-weight: bold; ";b+="cursor: pointer; ";b+="min-width: 30px; ";b="<span "+('style="'+b+'" ');b+="class=noselect ";b+=">";b+=m(f);b+="</span>";return $(b)}();v.append(u);z=function(){var b;b="display:inline-block;padding:3px;";
b+="color:white;";b="<span "+('style="'+b+'" ');b+=">";b+="</span>";return $(b)}();v.append(z);I=function(){var b;b="display:inline-block;padding:3px;";b+="color:white;";b+="float: right;";b="<span "+('style="'+b+'" ');b+=">";b+="</span>";return $(b)}();k.append(I);h=function(){var b;b="display:block;overflow:hidden;";b+="margin-top:3px;";b+="padding:3px;";b+="color:black;";b+="background-color:white;";b="<div "+('style="'+b+'" ');b+=">";b+="</div>";return $(b)}();g.append(h);"root"===d?C.prepend(q):
C.append(q);(function(){function b(b){b?(p.hide(),h.hide(),h.css({height:"auto","max-height":"0",transition:" none"}),p.show(),h.show(),c[d]="o",h.height(),h.css({transition:"max-height 0.25s ease-in","max-height":"500px"})):(p.show(),h.show(),c[d]="o")}function a(b){b?(p.hide(),c[d]="c",h.css({height:"auto","max-height":"none",transition:" none"}),b={"max-height":h.height()+"px"},h.css(b),h.height(),h.css({transition:"max-height 0.1s ease-in","max-height":"0px"})):(p.hide(),h.hide(),c[d]="c")}var c=
E.cfg.open_blocks;c[d]&&"o"!==c[d]?a():b();u.on("click",function(){"c"===c[d]?b(1):a(1)});h.on("transitionend",function(){h.css({transition:"none",height:"auto","max-height":"none"});!c[d]||"o"===c[d]||h.hide()})})()})();c={bx:{bx1:q,bx2:g},hd:{bx1:k,bx2:v,ct0:u,ct1:z,ct2:I},ct:h};return e[d]=c},newButtonGroup:function(a,e,f){var g,m;f=f||C;g=c(e);a&&0<a.length&&(function(){var a;a="vertical-align:middle;color:white;";a="<label "+('style="'+a+'" ');a+=">";a+="</label>";m=$(a)}(),m.append("&nbsp;"+
a),g.append(m));f.append(g);return{span:g,addTextInp:function(a){a.div=g;return d(a)},addButton:function(a,c){var f={type:"button"};f.lab_text=a;f.cb=c;f.div=g;f.__stack_idx__=2;return d(f)}}}}}();(function(){var c=E.cfg.user,d=1;(function(){if(c.login_ok)y.hide();else if(y){var g=function(a){a||(a="\u8acb\u8f38\u5165\u5bc6\u78bc");a=prompt(a);null!==a&&("1203"===a?(y.hide(),c.login_ok=1,c.nick=r.val()):setTimeout(function(){g("\u5bc6\u78bc\u932f\u8aa4 "+d++ +" \u6b21\uff0c\u8acb\u8f38\u5165\u5bc6\u78bc")},
500))},e,n,r,t;e=function(){var c=a.newBlock({id:"panel_login",text:"\u767b\u5165"}),d=c.bx.bx1,c=c.ct;d.css({width:"300px",height:"10em"});d.attr("class","center-me");c.css({display:"inline-block","text-align":"center","vertical-align":"middle","line-height":"9em",width:"100%",height:"100%"});n=c;return d}();(function(){var a="\u6241\u8760\u4fe0";c.nick&&(a=c.nick);var d;d='<input type="text" ';d+='value="'+m(a)+'" ';d+='style="width:100px;padding:0px;" ';d+=">";r=$(d)})();(function(){var a;a='<input type="button" ';
a+="id=rt-login ";a+='value="'+m("\u767b\u5165")+'" ';a+='style="padding:5px;" ';a+='title="'+m("\u767b\u5165")+'" ';a+=">";t=$(a);t.on("click",function(){g()})})();n.append("\u4ee5\u66b1\u7a31 ");n.append(r);n.append(t);y.append(e)}})()})();(function(){function n(a,f){function h(a,d){c("\u6210\u529f getPageIdName \u9a57\u8b49 token",a)}function g(a){c("Error, debugPageToken\uff0c\u82e5\u672a\u767b\u5165\u8acb\u5148\u767b\u5165\u3002",a.responseText);alert("Error, debugPageToken\uff0c\u82e5\u672a\u767b\u5165\u8acb\u5148\u767b\u5165\u3002")}
if(d(a))alert("\u8acb\u5148\u9078\u64c7\u7c89\u5c08");else{var e=u("/"+a+"?field=id,name",f);w({url:e,success:h,error:g,type:"GET"},{resp_time:300,emu_data:{}})}}function x(a){function g(a,d){c("\u6210\u529f debugUserToken, \u9a57\u8b49 token",a)}function h(a){c("Error, debugUserToken\uff0c\u82e5\u672a\u767b\u5165\u8acb\u5148\u767b\u5165\u3002",a.responseText);alert("Error, debugUserToken\uff0c\u82e5\u672a\u767b\u5165\u8acb\u5148\u767b\u5165\u3002")}d(a)?alert("\u6c92\u6709 user token\uff0c\u9084\u6c92\u767b\u5165\uff1f"):
(a="/debug_token?input_token="+a,a=u(a,f),w({url:a,success:g,error:h,type:"GET"},{resp_time:300,emu_data:{}}))}function u(a,c){c||(c="");return-1!==a.indexOf("&access_token=")&&-1!==a.indexOf("?access_token=")?a:a=-1!==a.indexOf("?")?a+("&access_token="+c):a+("?access_token="+c)}var w=function(){var a;return function(d,f,g,e,b){function k(a,b,d){try{var g=JSON.parse(a);if(f)try{f(g,d)}catch(e){alert(e)}c(g)}catch(M){console.error("process data error:",M),c("ajax OK\uff0c\u4f46\u8655\u7406\u8cc7\u6599\u767c\u751f\u932f\u8aa4",
M)}finally{}}function m(a,b,d){if(g)try{g(a)}catch(f){alert(f)}try{l.error("ajaxCallJsonApi error, http status:"+a.status+", statusText:"+a.statusText),c("ajax \u767c\u751f\u932f\u8aa4, jqXHR:",a,"\u5f8c\u7aef\u56de\u50b3:",JSON.parse(a.responseText))}catch(e){}finally{}}function n(){c("\u9019\u662f fb ajax emulate \u6e2c\u8a66");var a={readyState:12345,responseText:"test",status:8888,statusText:"test"},d=b.emu,e=b.emu_data||{},k=b.emu_jqxhr||a,B=b.emu_error_jqxhr||a,a=b.resp_time||0;"ok"===d&&f&&
e?setTimeout(function(){f(e,k)},a):"err"===d&&g&&e&&setTimeout(function(){g(B)},a)}if(!d||"object"===typeof d&&!d.url)c("ajax \u932f\u8aa4\uff0c\u6c92\u6709 url...","url:",d);else if("object"===typeof d&&(e=d,b=f,d=e.url,delete e.url,f=e.success,delete e.success,g=e.error,delete e.error),b&&b.emu)try{n()}catch(B){console.error(B)}else{d="https://graph.facebook.com"+d;try{a&&(a.abort(),a=0)}catch(u){}var r={type:"GET",url:d,data:{},dataType:"text",timeout:6E4,success:k,error:m};e&&$.extend(r,e);a=
$.ajax(r);c("waiting ajax response...","url:",d,"ajaxOpt",r)}}}(),C="",r="",t="",f="",q,D,p,k,v,y;(function(){var d=a.newBlock({id:"root",text:"\u8a2d\u5b9a-agtw"}),f=d.hd.ct1,e=d.hd.ct2,d=d.ct,k=$("<label>\u2190\u9ede\u5404 \u5340\u584a \u6a19\u984c\u6587\u5b57 \u5373\u53ef\u6253\u958b\u6216\u95dc\u9589 \u5340\u584a \u5167\u5bb9</label>");k.css({padding:"1px","font-size":"0.4em"});f.append(k);f={margin:"0px"};a.newButton("cls \u6e05\u9664\u8f38\u51fa\u5340",function(){O.text("")},e).input.css(f);
e.append("  ");q=a.newButton("\u3010\u91cd\u65b0\u6574\u7406\u3011",g,e);q.input.css(f);e=a.newSpan();d.append(e);a.newButton("\u3010\u91cd\u7f6e\u3011",E.rst,e);a.newButton("\u5370\u51fa\u8a2d\u5b9a\u6a94",function(){c(E.cfg)},e)})();(function(){function g(a){window.fbAsyncInit=function(){k(a)}}function k(a){a?(C=a,FB.init({appId:a,cookie:!0,xfbml:!0,version:"v17.0"}),b()):c("initFb \u5931\u6557\uff0c\u6c92\u6709 App Id\uff01")}function h(a){console.log("on login status Callback");console.log(a);
var b;c("on login status Callback",a);"connected"===a.status?a.authResponse||a.authResponse.accessToken?(e(),b=a.authResponse.userID,a=a.authResponse.accessToken,m(C,b,a),p.flashOff(),console.log("Welcome!  Fetching your information.... "),FB.api("/me?fields=name,email,id",n)):alert("response error"):(l.text("\u8acb\u5148\u767b\u5165\uff01"),p.flashOn(),m("","",""))}function m(a,b,c){r=a;t=b;f=c;G.text(f);y++;var e;e=""+("("+y+") ");d(c)?(D++,e+=" \u767b\u5165\u5931\u6557",3<=D&&(e+="\uff0c\u5982\u9023\u7e8c\u767b\u5165\u5931\u6557\u8acb\u91cd\u65b0\u6574\u7406\u7db2\u9801"),
e+="\u3002"):(D=0,c="font-weight:bold;font-size:1.5em;",c+="background-color:red;",c+="color:white;",c+="padding:2px;",e=e+"user: "+b,e+=" <label style='"+c+"'>\u6210\u529f\u767b\u5165</label> app: ",e+=a);q.html(e)}function n(a){t=a.id;console.log("Successful login for: "+a.name);console.log(a);c("App User Id:",t,a);A++;var b;b=""+("("+A+")");b=b+" | "+a.name;b+=" | ";b+=a.email;b+=" | ";b+=a.id;l.text(b)}function b(){FB.getLoginStatus(h)}function u(){x(f)}function v(){d(E.cfg.app.app_selected)?
(B.flashOn(),alert("\u8acb\u5148\u9078\u53d6\u8981\u9023\u7d50\u7684 App")):(D++,FB.login(h))}function w(){FB.logout(function(a){c(a);b()})}var B,p,l,q,G,y=0,D=0,A=0;(function(){var e,f;(function(){var b=a.newBlock({id:"fb_login",text:"\u767b\u5165"}),h=b.hd.ct1;e=b.ct;l=$('<label id="fb_login_status"></label>');l.css({"background-color":"transparent","font-size":"0.6em",color:"white",dispaly:"inline-block"});h.append(l);f=a.newSpan();e.append(f);f.append("<label>\u9023\u7d50APP:</label>");(function(){B=
a.newSelect("",function(a,b){c("onSelectorChange!!!: ",a,b);E.cfg.app.app_selected=a;!a||0>=a.length?p.flashOff():k(a)},f);var b=E.cfg.app.apps,e;for(e in b)B.addOpt(e,b[e].name);var H=E.cfg.app.app_selected;d(H)?(B.selectOpt(""),B.flashOn()):(B.selectOpt(H),b[H]&&setTimeout(function(){g(H)},0))})();p=a.newButton("FB Login",v,f);a.newButton("FB Logout",w,f);e.append(a.newHr())})();(function(){var b=$("<div></div>");e.append(b);b.css({"background-color":"gold",padding:"2px",width:"100%",display:"block"});
q=$('<label class="textarea-label-text"></label>');b.append(q);q.css({color:"red"});q.append("\u8acb\u5148\u767b\u5165");var c={type:"textarea"};c.div=b;c.css={color:"gray","font-size":"0.5em",height:"60px"};G=a.newInput(c).input;c=a.newSpan();c.css({});b.append(c);a.newButton("\u25b2\u9a57\u8b49\u4ee5\u4e0a Token \u6240\u9023\u7d50\u7684 App",u,c);b.append(a.newHr())})();(function(){var c=a.newSpan();e.append(c);c.append("<label>\u9a57\u8b49:</label>");a.newButton("\u986f\u793a\u767b\u5165\u72c0\u614b",
b,c);e.append(a.newHr())})();(function(){var c=$("<div></div>");c.css({dispaly:"block",overflow:"auto",width:"100%",height:"auto","min-height":"30px"});e.append(c);e.append(a.newHr());window.fb_offical_button_onlogin=b;var d=$('<fb:login-button scope="public_profile,email" onlogin="fb_offical_button_onlogin();"></fb:login-button>');c.append(d);c.append("&nbsp;");d=$('<span class="fb-like" data-share="true" data-width="400" data-show-faces="true"></span>');c.append(d)})()})()})();(function(){function e(){var a=
u("/"+t+"/accounts",f),b=function(){T++;var a={resp_time:300};a.emu_data={data:[{access_token:"_ajax \u6a21\u64ec 123",category:"\u793e\u7fa4",category_list:[{id:"2612",name:"\u793e\u7fa4"}],name:"[ ajax \u6a21\u64ec: "+T+" ]\u514b\u91cc\u592b\u8ad6\u651d\u5f71",id:"191214692790",tasks:["ANALYZE"]},{access_token:"_ajax \u6a21\u64ec 123456",category:"\u6559\u80b2\u7db2\u7ad9",category_list:[{id:"2704",name:"\u6559\u80b2\u7db2\u7ad9"}],name:"[ ajax \u6a21\u64ec: "+T+" ]\u81ea\u5df1\u4fee\u8173\u8e0f\u8eca",
id:"133655003154073",tasks:["ADVERTISE"]}]};return a}();w({url:a,success:function(a,b){var c=a.data,d="";K.clearOpt();R={};g("","","");q();U++;d=c.length;d=0===d?"("+U+") \u60a8\u6c92\u6709\u7ba1\u7406\u7684\u7c89\u5c08":"("+U+") \u60a8\u6709 "+d+" \u500b\u7c89\u5c08\u3001\u8acb\u9078\u64c7";K.addOpt("",d);for(d=0;d<c.length;d++){var e=c[d];R[e.id]=e;K.addOpt(e.id,e.name)}K.flashOn();h()},error:function(a){c("Error, \u53d6\u5f97\u6211\u6240\u7ba1\u7406\u7684\u7c89\u7d72\u5c08\u9801\u5931\u6557\uff0c\u82e5\u672a\u767b\u5165\u8acb\u5148\u767b\u5165\u3002",
a.responseText);alert("Error, \u53d6\u5f97\u6211\u6240\u7ba1\u7406\u7684\u7c89\u7d72\u5c08\u9801\u5931\u6557\uff0c\u82e5\u672a\u767b\u5165\u8acb\u5148\u767b\u5165\u3002")},type:"GET"},b)}function g(a,b,c){D=a;p=b;k=c;V.text(k);!D||0>=D.length?N.text(""):(W++,c=""+("("+W+")"),c=c+" \u4ee5 "+G,c+=" \u4f7f\u7528 ",c+=a,c+=" ( ",c+=b,c+=" ) ",N.text(c))}function h(a){c("saveOrLoadAppScret, doSave?",a);try{var b=E.cfg.app.apps;if(!G||0>=G.length)c("loadOrSaveAppScret \u800c\u6c92\u6709 appid, \u4e0d\u505a return...");
else{var d=b[G];if(d){var e=d.app_secret;c("saveOrLoadAppScret, oldSerect",e);if(a){var f=H.val(),f=f.trim();e!=f&&(d.app_secret=f)}else H.val(""),e&&0<e.length&&(c("saveOrLoadAppScret, load oldSerect",e),H.val(e))}}}catch(g){console.error(g)}}function m(){n(D,k)}function l(){n(D,v)}function b(){function a(b){q();g(b.id,b.name,b.access_token);c("getPageShortLiveToken",b)}function b(a){c("Error, \u7c89\u7d72\u5c08\u9801\u53d6\u5f97\u77ed\u671f\u6b0a\u6756\u5931\u6557",a.responseText);alert("Error, \u7c89\u7d72\u5c08\u9801\u53d6\u5f97\u77ed\u671f\u6b0a\u6756\u5931\u6557")}
c("getPageShortLiveToken...");var d;d=D;!d||0>=d.length?alert("\u8acb\u5148\u9078\u64c7\u7c89\u5c08"):(d=u("/"+d+"?fields=name,access_token",f),w({url:d,success:a,error:b,type:"GET"}))}function q(){G=r;y=f;J.text(y);X++;var a;a=""+("("+X+")&nbsp;");a=a+" \u65bc App&nbsp;'"+G;a+="'&nbsp;";P.html(a)}function C(){d(y)?alert("\u9084\u662f\u7a7a\u503c\uff0c\u9084\u6c92\u53d6\u5f97\u60a8\u6240\u7ba1\u7406\u7684\u7c89\u7d72\u5c08\u9801\uff1f"):x(y)}function F(){function a(b,c){v=b.access_token;M.text(v)}
function b(a){c("Error, \u53d6\u5f97\u9577\u671f Token \u5931\u6557\uff0c\u8acb\u898b\u8a0a\u606f\u6b04\u3002",a,a.responseText);alert("Error, \u53d6\u5f97\u9577\u671f Token \u5931\u6557\uff0c\u8acb\u898b\u8a0a\u606f\u6b04\u3002")}function e(){var a={readyState:4,responseText:"",status:400,statusText:"error"};a.responseText=A({error:{message:"this_is_emulate_error",type:"Emulate_Exception",code:101,fbtrace_id:"12345"}});var b={resp_time:300,emu_data:{access_token:"THIS_IS_EMULATE_TOKEN_12345678",
token_type:"bearer"}};b.emu_error_jqxhr=a;return b}var f=H.val();if(d(y))alert("\u9084\u6c92\u6709 user token\uff0c\u8acb\u5148\u767b\u5165\u5f8c\u53d6\u5f97\u60a8\u6240\u7ba1\u7406\u7684\u7d1b\u7d72\u5c08\u9801\u3002");else if(d(G))alert("\u9084\u6c92\u6709 App id\uff0c\u8acb\u5148\u767b\u5165\u5f8c\u53d6\u5f97\u60a8\u6240\u7ba1\u7406\u7684\u7d1b\u7d72\u5c08\u9801\u3002");else if(d(k))alert("\u9084\u6c92\u6709 \u77ed\u671fToken\uff0c\u53d6\u5f97\u9577\u671fToken\u9700\u8981\u5148\u53d6\u5f97\u77ed\u671fToken\uff0c\u8acb\u5148\u5148\u53d6\u5f97\u77ed\u671fToken\u3002");
else if(d(f))alert("\u7121 App Secret\uff0c\u53d6\u5f97\u9577\u671fToken\u9700\u8981 App Secret\uff0c\u8acb\u5148\u8f38\u5165App Secret\u3002"),S.flashOn();else{var g;g="/oauth/access_token?grant_type=fb_exchange_token";g+="&client_id="+G;g+="&client_secret="+f;g+="&fb_exchange_token="+k;g=u(g,y);f=e();w({url:g,success:a,error:b,type:"GET"},f)}}var B,N,K,R,G,P,J,V,M,S,H,W=0,X=0,T=0,U=0;(function(){function c(){K=a.newSelect("",function(a,b){if(d(a))K.flashOff(),g("","","");else{var c=R[a];g(a,c.name,
c.access_token)}},f)}var f;(function(){var b=a.newBlock({id:"fb_page_token",text:"\u53d6\u5f97\u7c89\u5c08 Token"}),c=b.hd.ct1,e=b.hd.ct2;B=b.ct;N=$('<label id="the_selected_page"></label>');N.css({"background-color":"transparent","font-size":"0.6em",color:"white",dispaly:"inline-block"});c.append(N);a.newButton("\u958b\u555f\u7c89\u5c08",function(){d(D)?alert("\u8acb\u5148\u9078\u64c7\u7c89\u5c08"):window.open("https://www.facebook.com/"+D)},e)})();(function(){f=a.newSpan();B.append(f);f.append("<label>1\u2192</label>");
a.newButton("\u53d6\u5f97\u6211\u6240\u7ba1\u7406\u7684\u7c89\u7d72\u5c08\u9801",e,f);f.append("<label>&nbsp;&nbsp;2\u2192</label>");c();f.append("<label>&nbsp;&nbsp;3\u2192</label>");a.newButton("\u53d6\u5f97 \u77ed\u671fToken",b,f);f.append("<label>&nbsp;&nbsp;4\u2192\u8acb\u8f38\u5165 App Secret:</label>");var d={type:"text",lab_text:"\u6e2c input text",cb:function(){}};d.div=f;d.css={width:"300px"};S=a.newInput(d);H=S.input;H.on("blur",function(){h(1)});B.append(a.newHr());f.append("<label>&nbsp;&nbsp;5\u2192</label>");
a.newButton("\u53d6\u5f97 \u9577\u671fToken",F,f)})();(function(){var b=$("<div></div>");B.append(b);b.css({padding:"2px",width:"100%",display:"block"});var c={display:"inline-block",color:"red"};P=$('<label class="textarea-label-text"></label>');P.css(c);b.append(P);var d=$('<label class="textarea-label-text"></label>');d.append("\u53d6\u5f97\u7c89\u5c08 Short Token \u7684 User Token");d.css(c);b.append(d);c={type:"textarea"};c.div=b;c.css={color:"gray","font-size":"0.5em",height:"60px"};J=a.newInput(c).input;
c=a.newSpan();c.css({});b.append(c);a.newButton("\u25b2\u9a57\u8b49\u4ee5\u4e0a Token \u6240\u9023\u7d50\u7684 App",C,c);b.append(a.newHr())})();(function(){var b=$("<div></div>");B.append(b);b.css({"background-color":"gold",padding:"2px",width:"100%",display:"block"});var c=$('<label class="textarea-label-text"></label>');c.append("\u7c89\u5c08 \u77ed\u671f Token\uff0c\u6709\u77ed\u671f Token \u5373\u53ef\u958b\u59cb\u4f7f\u7528\u7c89\u5c08 Api\uff01");c.css({display:"inline-block",width:"100%",
color:"red"});b.append(c);c={type:"textarea"};c.div=b;c.css={color:"gray","font-size":"0.5em",height:"60px"};V=a.newInput(c).input;c=a.newSpan();c.css({});b.append(c);a.newButton("\u25b2\u9a57\u8b49\u4ee5\u4e0a \u77ed\u671fToken",m,c);b.append(a.newHr())})();(function(){var b=$('<label class="textarea-label-text"></label>');b.append("\u7c89\u5c08 \u9577\u671f Token");b.css({display:"inline-block",width:"100%",color:"red"});B.append(b);b={type:"textarea"};b.div=B;b.css={color:"gray","font-size":"0.5em",
height:"60px"};M=a.newInput(b).input;b=a.newSpan();B.append(b);a.newButton("\u25b2\u9a57\u8b49\u4ee5\u4e0a \u9577\u671fToken",l,b);B.append(a.newHr())})()})()})();(function(){function f(){var a=t.find(":selected").val();t.find(":selected").text();return a}function g(){function a(b){c("\u8b80\u53d6 post \u6210\u529f")}function b(a){c("\u8b80\u53d6 post \u5931\u6557",a.responseText)}function d(){var a={resp_time:300};a.emu_data={id:"8888_"+(new Date).getTime(),msg:"### \u9019\u662f ajax \u6a21\u64ec ###"};
return a}if(n()){var e=D,h;h="long"==f()?v:k;e=u("/"+e+"/feed?limit=3",h);h=d();w({url:e,success:a,error:b,type:"GET"},h)}}function h(){if(n()){var a=D,b;b="long"==f()?v:k;a=u("/"+a+"/insights?metric=page_impressions_unique,page_engaged_users",b);FB.api(a,function(a){c(a)})}}function n(){if(d(D))return alert("\u60a8\u9084\u6c92\u9078\u53d6\u8981\u7ba1\u7406\u7684\u7c89\u7d72\u5c08\u9801\uff0c\u8acb\u5148\u767b\u5165\u5f8c\u9078\u53d6\u7c89\u7d72\u5c08\u9801\u3002"),!1;if("long"==f()){if(d(v))return alert("\u9084\u6c92\u6709\u7c89\u5c08 Long Token\u53ef\u4ee5\u4f7f\u7528\uff0c\u8acb\u5148\u767b\u5165\u5f8c\u9078\u53d6\u7c89\u7d72\u5c08\u9801\uff0c\u7136\u5f8c\u7522\u751f Long Token\u3002"),
!1}else if(d(k))return alert("\u9084\u6c92\u6709\u7c89\u5c08 Short Token\u53ef\u4ee5\u4f7f\u7528\uff0c\u8acb\u5148\u767b\u5165\u5f8c\u9078\u53d6\u7c89\u7d72\u5c08\u9801\u3002"),!1;return!0}function r(a,b){a.attr("disabled","disabled");a.css("opacity",.5);a[0].value=m(b)}function b(a,b){a.removeAttr("disabled");a.css("opacity",1);a[0].value=m(b)}var l,t,q=function(){function g(){function a(d){b(C,"\u767c\u9001\u8cbc\u6587\u81f3\u7c89\u5c08");e();d=d.id;var f=B,g=t(l),h={};h.post_date=new Date;h.post_msg=
f;g[d]=h;c("\u767c\u5e03 post \u6210\u529f","page id: "+l,"post id: "+d,"PO\u6587: "+B)}function h(a){b(C,"\u767c\u9001\u8cbc\u6587\u81f3\u7c89\u5c08");c("\u767c\u5e03 post \u5931\u6557",a.responseText)}function m(){var a={};a.emu=q;a.resp_time=300;a.emu_data={id:"8888_"+(new Date).getTime(),msg:"### \u9019\u662f ajax \u6a21\u64ec ###"};return a}if(n()){var l=D,p;p="long"==f()?v:k;var B=y.val();if(d(B))alert("\u672a\u6709\u6587\u5b57\uff0c\u8acb\u5148\u8f38\u5165\u8cbc\u6587\u8a0a\u606f"),x.flashOn();
else{r(C,"\u767c\u9001\u8cbc\u6587\u81f3\u7c89\u5c08 (\u767c\u9001\u4e2d...)");p=u("/"+l+"/feed",p);var A=m();w({url:p,success:a,error:h,data:{message:B},type:"POST"},A)}}}function h(){if(n()){var a=D,d;d="long"==f()?v:k;var g=t(a),l=[],q;for(q in g)l.push(q);0===l.length?alert("\u5c1a\u7121\u8cc7\u6599\u53ef\u522a\u9664"):confirm("\u4f60\u78ba\u5b9a\u55ce\uff1f\r\n"+("\u5373\u5c07\u5f9e\u7c89\u5c08 "+p+"("+a+") \u522a\u9664 "+l.length+" \u7b46\u8cc7\u6599\uff01"))&&(r(A,"\u522a\u9664\u5168\u90e8\u6e2c\u8a66\u7684\u7c89\u5c08\u8cbc\u6587 (\u958b\u59cb\u522a\u9664...)"),
function(){function f(n,q){n&&e();if(n&&k){var p=k;delete t(a)[p]}h++;h>=l.length?(c("\u522a\u9664 post \u6210\u529f, \u522a\u9664\u4e86 "+h+" \u7b46"),b(A,"\u522a\u9664\u5168\u90e8\u6e2c\u8a66\u7684\u7c89\u5c08\u8cbc\u6587")):(k=l[h],c("\u6e96\u5099 \u522a\u9664 post id "+k+""),r(A,"\u522a\u9664\u5168\u90e8\u6e2c\u8a66\u7684\u7c89\u5c08\u8cbc\u6587 (\u6b63\u5728\u522a\u9664...\u9084\u6709 "+J(g)+" \u7b46)"),m(k,d,f))}var h=-1,k;f()}())}}function m(a,b,d){b=u("/"+a,b);var e=function(){var a={};a.emu=
q;a.resp_time=1E3;a.emu_data={success:!0,msg:"### \u9019\u662f ajax \u6a21\u64ec ###"};return a}();w({url:b,success:function(b,e){c("\u6210\u529f \u522a\u9664 post "+a);var f=b.success;d&&d(f,"ajax_ok")},error:function(a){c("\u5931\u6557 \u522a\u9664 post ",a.responseText);d&&d(!1,"ajax_err")},type:"DELETE"},e)}function t(a){a=""+a;var b=E.cfg.pages_test_post[a];b||(b={},E.cfg.pages_test_post[a]=b);return b}var q="ok",q=0,x,y,C,A;return{init:function(){(function(){var b=a.newSpan();l.append(b);b.append("<label>\u6e2c\u8a66\u7c89\u5c08 Post\u2192 </label>");
b=$("<div></div>");l.append(b);b.css({"background-color":"gold",padding:"2px",width:"100%",display:"block"});var c=$('<label class="textarea-label-text"></label>');c.append("\u586b\u5165\u6587\u5b57\uff0c\u7136\u5f8c\u9ede\u9078 [\u767c\u9001\u8cbc\u6587\u81f3\u7c89\u5c08]");c.css({display:"inline-block",width:"100%",color:"red"});b.append(c);c={type:"textarea"};c.div=b;c.css={color:"gray","font-size":"0.5em",height:"60px"};x=a.newInput(c);y=x.input;c=a.newSpan();c.css({});b.append(c);a.newButton("\u52a0\u5165\u6642\u9593\u6233\u8a18",
function(){var a=" \u6642\u9593 "+(new Date).toLocaleString("zh-TW");y.val(y.val()+a)},c);c.append("&nbsp;");a.newButton("\u6e05\u9664",function(){y.val("")},c);c.append("&nbsp;");C=a.newButton("\u767c\u9001\u8cbc\u6587\u81f3\u7c89\u5c08",g,c).input;c.append("&nbsp;");A=a.newButton("\u522a\u9664\u5168\u90e8\u6e2c\u8a66\u7684\u7c89\u5c08\u8cbc\u6587",h,c).input;c.append("&nbsp;");b.append(a.newHr())})()}}}();(function(){l=a.newBlock({id:"fb_page_test_api",text:"\u4f7f\u7528\u7c89\u5c08 Api"}).ct;(function(){var b=
a.newSpan();l.append(b);b.append("<label>1\u2192</label>");(function(){var c=a.newSelect("",function(a,b){},b);t=c.select;c.addOpt("short","\u4f7f\u7528 \u77ed\u671f Token");c.addOpt("long","\u4f7f\u7528 \u9577\u671f Token")})();b.append("<label>2\u2192</label>");a.newButton("\u8b80\u53d6\u7c89\u5c08Post",g,b);a.newButton("\u53d6\u5f97\u7c89\u5c08\u6d1e\u5bdf\u5831\u544a",h,b);l.append(a.newHr())})();q.init()})()})()})();var F=new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");
return{test:function(){alert("test")}}};window.onerror=function(A,d,g,e,l){var n;n="whoops, "+(A+", ");n+=d+", ";n+="line:"+g+", ";n+="columnNo: "+e+", ";n+="error: "+l+".";l&&l.stack&&(n+="\r\n\r\nStacktrace: "+l.stack);console&&console.error&&(console.error("ERROR: window.onerror, "+n,arguments),console.trace&&console.trace());window.ml_err_alerted||(alert(n),window.ml_err_alerted=1)};agtw=agtw||{};agtw.util=agtw.util||{};
agtw.util=function(){function A(){var d,e=!1;return{mlstfdr:function(l,n){var x=l,A={},w,m;try{throw Error("");}catch(O){m=O}var C;try{if(e)w="[Not Supported]";else if(m.stack){C=m.stack.split("\n");if(void 0===d){var y;for(y=0;y<C.length&&-1===C[y].indexOf("mlstfdr");y++);d=y}x+=d;if(0>x||x>C.length)w="[ERROR, offset error, index out of array]";else if(w=C[x],x=w){var x=x.trim(),c=x.split("/"),c=c[c.length-1].split(":"),E=c[0],a=c[1],a=void 0!==a?a.trim():"none";-1!==E.indexOf("?")&&(c=E.split("?"),
E=c[0]);var c=x.split(" "),F;-1!==x.indexOf("@")?(F=c[0],c=F.split("@"),F=c[0]):(F=c[1])&&0===F.indexOf("http://")&&(F="");w=""+F+"; "+E+":"+a+""}else w=""}else e=!0,console.error("\u4e0d\u652f\u63f4 stacktrace"),w="[Not Supported]"}catch(Q){w=Q.message,console.error(Q.message,Q)}A.msg=w;n&&(A.st=m.stack,A.st_array=C);return A}}}var d;return{ft:function(d,e){e||(e=0);var l=Math.pow(10,e);return Math.floor(d*l)/l},os:function(d){var e=0,l;for(l in d)e++;return e},ncf:A,gci:function(g,e){e=!!e;g+=2;
d||(d=A());var l=d.mlstfdr(g,e);if(e){if(l.st_array){var n=l.st_array;try{var x,J,w="";J=n.length;for(x=0;x<J;x++)w+="line: "+x+": '"+n[x].trim()+"'\r\n"}catch(m){console.error(m.message,m)}}l.st&&console.debug(l.st)}return l.msg},he:function(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},hd:function(d){return $("<div/>").html(d).text()}}}();agtw=agtw||{};agtw.log=agtw.log||{};if(!console){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(){}}agtw.log=function(){function A(){var d=console,g={},e;for(e in d)g[e]=d[e];g.l=d.log;g.d=d.debug;g.i=d.info;g.w=d.warn;g.e=d.error;return g}return{finalize:function(){},lgr:A,getLogger:A}}();
